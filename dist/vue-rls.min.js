!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).VueRLS={})}(this,function(e){"use strict";var t={};const s={};var i=new class{get length(){return Object.keys(this.storage).length}get storage(){return s}getItem(e){return e in this.storage?this.storage[e]:null}setItem(e,t){this.storage[e]=t}removeItem(e){e in this.storage&&delete this.storage[e]}clear(){const e=Object.keys(this.storage);for(let t=0;t<=e.length;t++)try{delete this.storage[e[t]]}catch(e){}}},r={_initialize:function(e){this.setOptions(e)},_objectDefaults:function(e,t){var i=this;Object.keys(e).reduce(function(r,s){var n=e[s];return"object"==typeof n?i._objectDefaults(t[s],n):t.hasOwnProperty(s)||(t[s]=n),r},[])},setOptions(e){this._objectDefaults({prefix:"app_",driver:"local",ttl:!1},e),this.options(Object.freeze(e))},prefix(){return this.options().prefix},options:e=>(e&&(t=e),t),driver(){switch(this.options().driver){case"local":default:return"undefined"!=typeof window?window.localStorage:i;case"session":return"undefined"!=typeof window?window.sessionStorage:i;case"memory":return i}},removePrefix(e){return e.replace(new RegExp(`^${this.prefix()}`),"")},getRaw(){var e={},t=this.keys();for(var i in t)e[this.removePrefix(t[i])]=this.deserialize(this.driver().getItem(t[i]));return e},setRaw(e){for(var t in e)"function"!=typeof e[t]&&this.driver().setItem(this.prefix()+t,JSON.stringify(e[t]))},get(e,t){var i=this.driver().getItem(this.prefix()+e);return null===i?t||null:this.deserialize(i)||t},set(e,t){return void 0===t?this.remove(e):(this.driver().setItem(this.prefix()+e,this.serialize(t)),this[e]=t,t)},delete(e){this.remove(e)},remove(e){name=this.prefix()+e,this.driver().removeItem(name),this[e]=void 0,delete this[e]},keys(){return Object.keys(this.driver()).filter(e=>e.startsWith(this.prefix()))},clear(){var e=this.keys();for(var t in e)this.remove(this.removePrefix(e[t]))},serialize:e=>JSON.stringify(e),deserialize(e){try{return JSON.parse(e)}catch(e){return null}}},n={store:r,install(e,t){r._initialize(t);var i=r.getRaw();e.mixin({data:()=>({storage:Object.assign(r,i)}),watch:{storage:{handler(){r.setRaw(this.storage)},deep:!0}}})}};"undefined"!=typeof window&&(window.VueRLS=n),e.VueRLS=n,e.default=n,Object.defineProperty(e,"__esModule",{value:!0})});
